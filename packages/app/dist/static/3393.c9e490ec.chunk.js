"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3393],{33393:function(K,d,t){t.r(d),t.d(d,{TechDocsCustomHome:function(){return U}});var e=t(2784),C=t(64279),u=t(79692),D=t(73495),l=t(45269),n=t(49558),T=t(30705),L=t(32272),v=t(76372),f=t.n(v),h=t(66565),g=t(15277),y=t.n(g),p=t(97592),S=t(49462),x=t(1854),V=t(47093),A=t(82717),Y=t.n(A),B=t(35368),G=t.n(B),H=t(18671),Z=t(34520),W=t(76635),j=t.n(W),F=t(48377);const I={DocsTable:l.D,DocsCardGrid:l.a},R=({config:a,entities:E,index:o})=>{const P=(0,u.Z)({panelContainer:{marginBottom:"2rem",...a.panelCSS?a.panelCSS:{}}})(),{loading:r,isOwnedEntity:i}=(0,D.ZW)(),c=I[a.panelType],O=E.filter(_=>a.filterPredicate==="ownedByUser"?r?!1:i(_):typeof a.filterPredicate=="function"&&a.filterPredicate(_));return e.createElement(e.Fragment,null,e.createElement(n.yW,{title:a.title,description:a.description},o===0?e.createElement(n.qt,null,"Discover documentation in your ecosystem."):null),e.createElement("div",{className:P.panelContainer},e.createElement(c,{"data-testid":"techdocs-custom-panel",entities:O})))},U=a=>{const{tabsConfig:E}=a,[o,M]=(0,e.useState)(0),P=(0,T.h_)(D.Ah),{value:r,loading:i,error:c}=(0,C.default)(async()=>(await P.getEntities({filter:{"metadata.annotations.backstage.io/techdocs-ref":D.n3},fields:["apiVersion","kind","metadata","relations","spec.owner","spec.type"]})).items.filter(s=>{var m;return!!((m=s.metadata.annotations)!=null&&m["backstage.io/techdocs-ref"])})),O=E[o];return i?e.createElement(l.T,null,e.createElement(n.VY,null,e.createElement(n.Ex,null))):c?e.createElement(l.T,null,e.createElement(n.VY,null,e.createElement(n.GB,{severity:"error",title:"Could not load available documentation."},e.createElement(n.Oi,{language:"text",text:c.toString()})))):e.createElement(l.T,null,e.createElement(n.aR,{selectedIndex:o,onChange:_=>M(_),tabs:E.map(({label:_},s)=>({id:s.toString(),label:_}))}),e.createElement(n.VY,{"data-testid":"techdocs-content"},O.panels.map((_,s)=>e.createElement(R,{key:s,config:_,entities:r||[],index:s}))))}}}]);})();

//# sourceMappingURL=3393.c9e490ec.chunk.js.map