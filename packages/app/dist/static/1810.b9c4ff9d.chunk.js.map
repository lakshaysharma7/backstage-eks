{"version":3,"sources":["webpack://app/../node_modules/@backstage/plugin-scaffolder/dist/esm/default-b784df08.esm.js","webpack://app/../node_modules/@backstage/plugin-scaffolder/dist/esm/index-948241af.esm.js"],"names":[],"mappings":"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","file":"static/1810.b9c4ff9d.chunk.js","sourcesContent":["import { E as EntityPicker, i as EntityNamePicker, j as entityNamePickerValidation, k as EntityTagsPicker, R as RepoUrlPicker, l as repoPickerValidation, O as OwnerPicker, m as OwnedEntityPicker } from './index-76cc5591.esm.js';\n\nconst DEFAULT_SCAFFOLDER_FIELD_EXTENSIONS = [\n  {\n    component: EntityPicker,\n    name: \"EntityPicker\"\n  },\n  {\n    component: EntityNamePicker,\n    name: \"EntityNamePicker\",\n    validation: entityNamePickerValidation\n  },\n  {\n    component: EntityTagsPicker,\n    name: \"EntityTagsPicker\"\n  },\n  {\n    component: RepoUrlPicker,\n    name: \"RepoUrlPicker\",\n    validation: repoPickerValidation\n  },\n  {\n    component: OwnerPicker,\n    name: \"OwnerPicker\"\n  },\n  {\n    component: OwnedEntityPicker,\n    name: \"OwnedEntityPicker\"\n  }\n];\n\nexport { DEFAULT_SCAFFOLDER_FIELD_EXTENSIONS as D };\n//# sourceMappingURL=default-b784df08.esm.js.map\n","import React, { createContext, useState } from 'react';\nimport { useOutlet, Routes, Route } from 'react-router';\nimport { Progress, ItemCardHeader, MarkdownContent, UserIcon, Button as Button$1, Content, Link as Link$1, ItemCardGrid, ContentHeader, Page, Header, SupportButton } from '@backstage/core-components';\nimport { useEntityTypeFilter, FavoriteEntity, getEntityRelations, EntityRefLinks, useEntityList, EntityListProvider, CatalogFilterLayout, EntitySearchBar, EntityKindPicker, UserListPicker, EntityTagPicker } from '@backstage/plugin-catalog-react';\nimport capitalize from 'lodash/capitalize';\nimport { Box, Typography, FormControlLabel, Checkbox, TextField, makeStyles, useTheme, Card, CardContent, Divider, Chip, CardActions } from '@material-ui/core';\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { Autocomplete } from '@material-ui/lab';\nimport { useApi, alertApiRef, useRouteRef, errorApiRef, useElementFilter } from '@backstage/core-plugin-api';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { Link } from 'react-router-dom';\nimport AddCircleOutline from '@material-ui/icons/AddCircleOutline';\nimport { catalogEntityCreatePermission } from '@backstage/plugin-catalog-common';\nimport { usePermission } from '@backstage/plugin-permission-react';\nimport { s as selectedTemplateRouteRef, a as registerComponentRouteRef, F as FIELD_EXTENSION_WRAPPER_KEY, d as FIELD_EXTENSION_KEY } from './index-76cc5591.esm.js';\nimport { RELATION_OWNED_BY, stringifyEntityRef } from '@backstage/catalog-model';\nimport { D as DEFAULT_SCAFFOLDER_FIELD_EXTENSIONS } from './default-b784df08.esm.js';\nimport '@backstage/errors';\nimport 'qs';\nimport 'zen-observable';\nimport '@material-ui/core/FormControl';\nimport '@material-ui/lab/Autocomplete';\nimport 'react-use/lib/useAsync';\nimport 'react-use/lib/useEffectOnce';\nimport '@backstage/integration-react';\nimport '@material-ui/core/FormHelperText';\nimport '@material-ui/core/Input';\nimport '@material-ui/core/InputLabel';\nimport 'react-use/lib/useDebounce';\nimport '@material-ui/core/Grid';\nimport '@material-ui/core/Step';\nimport '@material-ui/core/StepLabel';\nimport '@material-ui/core/Stepper';\nimport '@material-ui/core/styles';\nimport '@material-ui/core/Typography';\nimport '@material-ui/icons/Cancel';\nimport '@material-ui/icons/Check';\nimport '@material-ui/icons/FiberManualRecord';\nimport 'classnames';\nimport 'luxon';\nimport 'react-use/lib/useInterval';\nimport 'use-immer';\nimport '@material-ui/icons/Language';\n\nconst icon = /* @__PURE__ */ React.createElement(CheckBoxOutlineBlankIcon, {\n  fontSize: \"small\"\n});\nconst checkedIcon = /* @__PURE__ */ React.createElement(CheckBoxIcon, {\n  fontSize: \"small\"\n});\nconst CategoryPicker = () => {\n  const alertApi = useApi(alertApiRef);\n  const { error, loading, availableTypes, selectedTypes, setSelectedTypes } = useEntityTypeFilter();\n  if (loading)\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  if (error) {\n    alertApi.post({\n      message: `Failed to load entity types with error: ${error}`,\n      severity: \"error\"\n    });\n    return null;\n  }\n  if (!availableTypes)\n    return null;\n  return /* @__PURE__ */ React.createElement(Box, {\n    pb: 1,\n    pt: 1\n  }, /* @__PURE__ */ React.createElement(Typography, {\n    variant: \"button\"\n  }, \"Categories\"), /* @__PURE__ */ React.createElement(Autocomplete, {\n    multiple: true,\n    \"aria-label\": \"Categories\",\n    options: availableTypes,\n    value: selectedTypes,\n    onChange: (_, value) => setSelectedTypes(value),\n    renderOption: (option, { selected }) => /* @__PURE__ */ React.createElement(FormControlLabel, {\n      control: /* @__PURE__ */ React.createElement(Checkbox, {\n        icon,\n        checkedIcon,\n        checked: selected\n      }),\n      label: capitalize(option)\n    }),\n    size: \"small\",\n    popupIcon: /* @__PURE__ */ React.createElement(ExpandMoreIcon, null),\n    renderInput: (params) => /* @__PURE__ */ React.createElement(TextField, {\n      ...params,\n      variant: \"outlined\"\n    })\n  }));\n};\n\nconst RegisterExistingButton = (props) => {\n  const { title, to } = props;\n  const { allowed } = usePermission({\n    permission: catalogEntityCreatePermission\n  });\n  const isXSScreen = useMediaQuery((theme) => theme.breakpoints.down(\"xs\"));\n  if (!to || !allowed) {\n    return null;\n  }\n  return isXSScreen ? /* @__PURE__ */ React.createElement(IconButton, {\n    component: Link,\n    color: \"primary\",\n    title,\n    size: \"small\",\n    to\n  }, /* @__PURE__ */ React.createElement(AddCircleOutline, null)) : /* @__PURE__ */ React.createElement(Button, {\n    component: Link,\n    variant: \"contained\",\n    color: \"primary\",\n    to\n  }, title);\n};\n\nconst useStyles$1 = makeStyles(() => ({\n  header: {\n    backgroundImage: ({ cardBackgroundImage }) => cardBackgroundImage\n  },\n  subtitleWrapper: {\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  }\n}));\nconst CardHeader = (props) => {\n  const {\n    template: {\n      metadata: { title, name },\n      spec: { type }\n    }\n  } = props;\n  const { getPageTheme } = useTheme();\n  const themeForType = getPageTheme({ themeId: type });\n  const styles = useStyles$1({\n    cardBackgroundImage: themeForType.backgroundImage\n  });\n  const SubtitleComponent = /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.subtitleWrapper\n  }, /* @__PURE__ */ React.createElement(\"div\", null, type), /* @__PURE__ */ React.createElement(\"div\", null, /* @__PURE__ */ React.createElement(FavoriteEntity, {\n    entity: props.template,\n    style: { padding: 0 }\n  })));\n  return /* @__PURE__ */ React.createElement(ItemCardHeader, {\n    title: title != null ? title : name,\n    subtitle: SubtitleComponent,\n    classes: { root: styles.header }\n  });\n};\n\nconst useStyles = makeStyles((theme) => ({\n  box: {\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    display: \"-webkit-box\",\n    \"-webkit-line-clamp\": 10,\n    \"-webkit-box-orient\": \"vertical\",\n    \"& p:first-child\": {\n      marginTop: 0,\n      marginBottom: theme.spacing(2)\n    }\n  },\n  label: {\n    color: theme.palette.text.secondary,\n    textTransform: \"uppercase\",\n    fontWeight: \"bold\",\n    letterSpacing: 0.5,\n    lineHeight: 1,\n    fontSize: \"0.75rem\"\n  },\n  margin: {\n    marginBottom: theme.spacing(2)\n  },\n  footer: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    flex: 1,\n    alignItems: \"center\"\n  },\n  ownedBy: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flex: 1,\n    color: theme.palette.link\n  }\n}));\nconst TemplateCard = (props) => {\n  var _a, _b, _c, _d;\n  const { template } = props;\n  const styles = useStyles();\n  const ownedByRelations = getEntityRelations(template, RELATION_OWNED_BY);\n  const templateRoute = useRouteRef(selectedTemplateRouteRef);\n  const href = templateRoute({ templateName: template.metadata.name });\n  return /* @__PURE__ */ React.createElement(Card, null, /* @__PURE__ */ React.createElement(CardHeader, {\n    template\n  }), /* @__PURE__ */ React.createElement(CardContent, null, /* @__PURE__ */ React.createElement(Box, {\n    className: styles.box\n  }, /* @__PURE__ */ React.createElement(MarkdownContent, {\n    content: (_a = template.metadata.description) != null ? _a : \"No description\"\n  })), ((_c = (_b = template.metadata.tags) == null ? void 0 : _b.length) != null ? _c : 0) > 0 && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(Divider, {\n    className: styles.margin\n  }), /* @__PURE__ */ React.createElement(Box, null, (_d = template.metadata.tags) == null ? void 0 : _d.map((tag) => /* @__PURE__ */ React.createElement(Chip, {\n    size: \"small\",\n    label: tag,\n    key: tag\n  }))))), /* @__PURE__ */ React.createElement(CardActions, null, /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.footer\n  }, /* @__PURE__ */ React.createElement(\"div\", {\n    className: styles.ownedBy\n  }, ownedByRelations.length > 0 && /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(UserIcon, null), /* @__PURE__ */ React.createElement(EntityRefLinks, {\n    entityRefs: ownedByRelations,\n    defaultKind: \"Group\"\n  }))), /* @__PURE__ */ React.createElement(Button$1, {\n    size: \"small\",\n    variant: \"outlined\",\n    color: \"primary\",\n    to: href\n  }, \"Choose\"))));\n};\n\nconst TemplateGroup = (props) => {\n  const { templates, title, components: { CardComponent } = {} } = props;\n  const titleComponent = typeof title === \"string\" ? /* @__PURE__ */ React.createElement(ContentHeader, {\n    title\n  }) : title;\n  if (templates.length === 0) {\n    return /* @__PURE__ */ React.createElement(Content, null, titleComponent, /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body2\"\n    }, \"No templates found that match your filter. Learn more about\", \" \", /* @__PURE__ */ React.createElement(Link$1, {\n      to: \"https://backstage.io/docs/features/software-templates/adding-templates\"\n    }, \"adding templates\"), \".\"));\n  }\n  const Card = CardComponent || TemplateCard;\n  return /* @__PURE__ */ React.createElement(Content, null, titleComponent, /* @__PURE__ */ React.createElement(ItemCardGrid, null, templates.map((template) => /* @__PURE__ */ React.createElement(Card, {\n    key: stringifyEntityRef(template),\n    template\n  }))));\n};\n\nconst TemplateGroups = (props) => {\n  const { loading, error, entities } = useEntityList();\n  const { groups, TemplateCardComponent } = props;\n  const errorApi = useApi(errorApiRef);\n  if (loading) {\n    return /* @__PURE__ */ React.createElement(Progress, null);\n  }\n  if (error) {\n    errorApi.post(error);\n    return null;\n  }\n  if (!entities || !entities.length) {\n    return /* @__PURE__ */ React.createElement(Typography, {\n      variant: \"body2\"\n    }, \"No templates found that match your filter. Learn more about\", \" \", /* @__PURE__ */ React.createElement(Link$1, {\n      to: \"https://backstage.io/docs/features/software-templates/adding-templates\"\n    }, \"adding templates\"), \".\");\n  }\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, groups.map(({ title, filter }, index) => /* @__PURE__ */ React.createElement(TemplateGroup, {\n    key: index,\n    templates: entities.filter((e) => filter(e)),\n    title,\n    components: { CardComponent: TemplateCardComponent }\n  })));\n};\n\nconst defaultGroup = {\n  title: \"All Templates\",\n  filter: () => true\n};\nconst TemplateListPage = (props) => {\n  const registerComponentLink = useRouteRef(registerComponentRouteRef);\n  const { TemplateCardComponent, groups = [defaultGroup] } = props;\n  return /* @__PURE__ */ React.createElement(EntityListProvider, null, /* @__PURE__ */ React.createElement(Page, {\n    themeId: \"home\"\n  }, /* @__PURE__ */ React.createElement(Header, {\n    pageTitleOverride: \"Create a New Component\",\n    title: \"Create a New Component\",\n    subtitle: \"Create new software components using standard templates\"\n  }), /* @__PURE__ */ React.createElement(Content, null, /* @__PURE__ */ React.createElement(ContentHeader, {\n    title: \"Available Templates\"\n  }, /* @__PURE__ */ React.createElement(RegisterExistingButton, {\n    title: \"Register Existing Component\",\n    to: registerComponentLink && registerComponentLink()\n  }), /* @__PURE__ */ React.createElement(SupportButton, null, \"Create new software components using standard templates. Different templates create different kinds of components (services, websites, documentation, ...).\")), /* @__PURE__ */ React.createElement(CatalogFilterLayout, null, /* @__PURE__ */ React.createElement(CatalogFilterLayout.Filters, null, /* @__PURE__ */ React.createElement(EntitySearchBar, null), /* @__PURE__ */ React.createElement(EntityKindPicker, {\n    initialFilter: \"template\",\n    hidden: true\n  }), /* @__PURE__ */ React.createElement(UserListPicker, {\n    initialFilter: \"all\",\n    availableFilters: [\"all\", \"starred\"]\n  }), /* @__PURE__ */ React.createElement(CategoryPicker, null), /* @__PURE__ */ React.createElement(EntityTagPicker, null)), /* @__PURE__ */ React.createElement(CatalogFilterLayout.Content, null, /* @__PURE__ */ React.createElement(TemplateGroups, {\n    groups,\n    TemplateCardComponent\n  }))))));\n};\n\nconst SecretsContext = createContext(void 0);\nconst SecretsContextProvider = ({ children }) => {\n  const [secrets, setSecrets] = useState({});\n  return /* @__PURE__ */ React.createElement(SecretsContext.Provider, {\n    value: { secrets, setSecrets }\n  }, children);\n};\n\nconst TemplateWizardPage = (_props) => {\n  return null;\n};\n\nconst Router = (props) => {\n  const { components: { TemplateCardComponent } = {} } = props;\n  const outlet = useOutlet() || props.children;\n  const customFieldExtensions = useElementFilter(outlet, (elements) => elements.selectByComponentData({\n    key: FIELD_EXTENSION_WRAPPER_KEY\n  }).findComponentData({\n    key: FIELD_EXTENSION_KEY\n  }));\n  const fieldExtensions = [\n    ...customFieldExtensions,\n    ...DEFAULT_SCAFFOLDER_FIELD_EXTENSIONS.filter(({ name }) => !customFieldExtensions.some((customFieldExtension) => customFieldExtension.name === name))\n  ];\n  return /* @__PURE__ */ React.createElement(Routes, null, /* @__PURE__ */ React.createElement(Route, {\n    element: /* @__PURE__ */ React.createElement(TemplateListPage, {\n      TemplateCardComponent,\n      groups: props.groups\n    })\n  }), /* @__PURE__ */ React.createElement(Route, {\n    path: selectedTemplateRouteRef.path,\n    element: /* @__PURE__ */ React.createElement(SecretsContextProvider, null, /* @__PURE__ */ React.createElement(TemplateWizardPage, {\n      customFieldExtensions: fieldExtensions\n    }))\n  }));\n};\n\nexport { Router };\n//# sourceMappingURL=index-948241af.esm.js.map\n"],"sourceRoot":""}