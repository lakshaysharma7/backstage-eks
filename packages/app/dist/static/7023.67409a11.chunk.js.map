{"version":3,"sources":["webpack://app/../node_modules/@backstage/plugin-catalog-graph/dist/esm/index-5294ed16.esm.js"],"names":[],"mappings":"oTAiBA,KAAM,GAAY,QAAW,CAC3B,KAAM,CAAC,CAAE,YAAc,EACrB,QAAS,OACT,cAAe,SACf,UAAW,EACX,UAAW,CACb,GACA,MAAO,CACL,KAAM,EACN,UAAW,CACb,CACF,CAAC,EACK,EAAoB,GAAU,CAClC,KAAM,CACJ,UAAU,WACV,gBAAgB,KAChB,WAAW,EACX,iBAAiB,GACjB,iBAAiB,GACjB,QACA,YACA,YAAY,gBACZ,SACA,QAAQ,YACR,OAAO,mBACL,EACE,CAAE,UAAW,SAAU,EACvB,EAAa,SAAqB,CAAM,EACxC,EAAqB,SAAY,IAAc,EAC/C,EAAoB,SAAY,IAAoB,EACpD,EAAW,SAAY,EACvB,EAAU,EAAU,CAAE,QAAO,CAAC,EAC9B,EAAY,SAAa,EACzB,EAAc,kBAAY,CAAC,EAAM,IAAM,CAC3C,GAAI,GACJ,KAAM,GAAiB,SAAe,EAAK,EAAE,EACvC,EAAO,EAAmB,CAC9B,KAAM,EAAe,KAAK,kBAAkB,OAAO,EACnD,UAAW,EAAe,UAAU,kBAAkB,OAAO,EAC7D,KAAM,EAAe,IACvB,CAAC,EACD,EAAU,aAAa,QAAU,GAAK,EAAK,QAAU,KAAO,EAAK,SAAkB,CAAc,EAAG,CAAE,WAAY,CAAE,GAAI,CAAK,CAAE,CAAC,EAChI,EAAS,CAAI,CACf,EAAG,CAAC,EAAoB,EAAU,CAAS,CAAC,EACtC,EAAqB,cAAa,CAAE,eAAgB,CAAC,SAAmB,CAAM,CAAC,CAAE,EAAG,CAAE,YAAa,WAAY,eAAgB,EAAK,CAAC,EACrI,EAAkB,GAAG,EAAkB,IAAI,IACjD,MAAuB,iBAAoB,KAAU,CACnD,QACA,cAAe,EAAQ,KACvB,UACA,UAAW,GACX,SAAU,CACR,MAAO,aACP,KAAM,CACR,CACF,EAAmB,gBAAoB,KAAsB,CAC3D,gBAAiB,EACjB,WACA,iBACA,iBACA,QACA,YACA,YACA,cACA,UAAW,EAAQ,MACnB,gBACA,MACF,CAAC,CAAC,CACJ,C","file":"static/7023.67409a11.chunk.js","sourcesContent":["import { getCompoundEntityRef, parseEntityRef, stringifyEntityRef } from '@backstage/catalog-model';\nimport { InfoCard } from '@backstage/core-components';\nimport { useRouteRef, useAnalytics } from '@backstage/core-plugin-api';\nimport { useEntity, entityRouteRef, humanizeEntityRef } from '@backstage/plugin-catalog-react';\nimport { makeStyles } from '@material-ui/core';\nimport qs from 'qs';\nimport React, { useCallback } from 'react';\nimport { useNavigate } from 'react-router';\nimport { ALL_RELATION_PAIRS, Direction, catalogGraphRouteRef, EntityRelationsGraph } from '../index.esm.js';\nimport 'classnames';\nimport '@material-ui/core/styles/makeStyles';\nimport '@material-ui/core/styles';\nimport '@material-ui/icons/Work';\nimport 'react-use/lib/useDebounce';\nimport 'p-limit';\nimport 'react-use/lib/useAsyncFn';\n\nconst useStyles = makeStyles({\n  card: ({ height }) => ({\n    display: \"flex\",\n    flexDirection: \"column\",\n    maxHeight: height,\n    minHeight: height\n  }),\n  graph: {\n    flex: 1,\n    minHeight: 0\n  }\n});\nconst CatalogGraphCard = (props) => {\n  const {\n    variant = \"gridItem\",\n    relationPairs = ALL_RELATION_PAIRS,\n    maxDepth = 1,\n    unidirectional = true,\n    mergeRelations = true,\n    kinds,\n    relations,\n    direction = Direction.LEFT_RIGHT,\n    height,\n    title = \"Relations\",\n    zoom = \"enable-on-click\"\n  } = props;\n  const { entity } = useEntity();\n  const entityName = getCompoundEntityRef(entity);\n  const catalogEntityRoute = useRouteRef(entityRouteRef);\n  const catalogGraphRoute = useRouteRef(catalogGraphRouteRef);\n  const navigate = useNavigate();\n  const classes = useStyles({ height });\n  const analytics = useAnalytics();\n  const onNodeClick = useCallback((node, _) => {\n    var _a;\n    const nodeEntityName = parseEntityRef(node.id);\n    const path = catalogEntityRoute({\n      kind: nodeEntityName.kind.toLocaleLowerCase(\"en-US\"),\n      namespace: nodeEntityName.namespace.toLocaleLowerCase(\"en-US\"),\n      name: nodeEntityName.name\n    });\n    analytics.captureEvent(\"click\", (_a = node.title) != null ? _a : humanizeEntityRef(nodeEntityName), { attributes: { to: path } });\n    navigate(path);\n  }, [catalogEntityRoute, navigate, analytics]);\n  const catalogGraphParams = qs.stringify({ rootEntityRefs: [stringifyEntityRef(entity)] }, { arrayFormat: \"brackets\", addQueryPrefix: true });\n  const catalogGraphUrl = `${catalogGraphRoute()}${catalogGraphParams}`;\n  return /* @__PURE__ */ React.createElement(InfoCard, {\n    title,\n    cardClassName: classes.card,\n    variant,\n    noPadding: true,\n    deepLink: {\n      title: \"View graph\",\n      link: catalogGraphUrl\n    }\n  }, /* @__PURE__ */ React.createElement(EntityRelationsGraph, {\n    rootEntityNames: entityName,\n    maxDepth,\n    unidirectional,\n    mergeRelations,\n    kinds,\n    relations,\n    direction,\n    onNodeClick,\n    className: classes.graph,\n    relationPairs,\n    zoom\n  }));\n};\n\nexport { CatalogGraphCard };\n//# sourceMappingURL=index-5294ed16.esm.js.map\n"],"sourceRoot":""}